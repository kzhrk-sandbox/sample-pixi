webpackJsonp([0],{100:function(t,e,n){"use strict";function i(t){var e="",n=Math.floor(.001*(Date.now()-c));return n===r?o++:(o=0,r=n),e+=a(s.lookup,u),e+=a(s.lookup,t),o>0&&(e+=a(s.lookup,o)),e+=a(s.lookup,n)}var o,r,a=n(37),s=n(16),c=1459707606518,u=6;t.exports=i},101:function(t,e,n){"use strict";function i(t){if(!t||"string"!=typeof t||t.length<6)return!1;for(var e=o.characters(),n=t.length,i=0;i<n;i++)if(-1===e.indexOf(t[i]))return!1;return!0}var o=n(16);t.exports=i},102:function(t,e,n){"use strict";t.exports=0},103:function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a={tr:"tr",br:"br",bl:"bl",tl:"tl"},s=function(){function t(e){var n;o(this,t),this.content=e,this.target=new PIXI.Sprite,this.target.addChild(this.content),this.border=new PIXI.Graphics,this.minSize=50,this.pointSize=10;var r=new PIXI.Graphics;r.lineStyle(2,"0xff0000",1),r.beginFill("0xff0000"),r.drawRect(0,0,this.pointSize,this.pointSize);var s=r.clone(),c=r.clone(),u=r.clone(),h=r.clone();s.name=a.tr,c.name=a.br,u.name=a.bl,h.name=a.tl,this.points=(n={},i(n,a.tr,s),i(n,a.br,c),i(n,a.bl,u),i(n,a.tl,h),n)}return r(t,[{key:"init",value:function(){var t=this,e=-1*this.pointSize/2;this.points[a.tr].x=this.content.width+e,this.points[a.tr].y=e,this.points[a.br].x=this.content.width+e,this.points[a.br].y=this.content.height+e,this.points[a.bl].x=e,this.points[a.bl].y=this.content.height+e,this.points[a.tl].x=e,this.points[a.tl].y=e,Object.keys(this.points).forEach(function(e){t.points[e].on("pointerdown",t.onDragStartPoint.bind(t)).on("pointermove",t.onDragMovePoint.bind(t)).on("pointerup",t.onDragEndPoint.bind(t)).on("pointerupoutside",t.onDragEndPoint.bind(t)),t.points[e].interactive=!0,t.points[e].interactiveChildren=!0,t.target.addChild(t.points[e])})}},{key:"onDragStartPoint",value:function(t){var e=t.currentTarget;switch(e.data=t.data,e.alpha=.5,e.dragging=!0,e.prevPosition=null,e.name){case a.tr:this.content.anchor.x=0,this.content.anchor.y=1,this.content.y+=this.content.height;break;case a.br:this.content.anchor.x=0,this.content.anchor.y=0;break;case a.bl:this.content.anchor.x=1,this.content.anchor.y=0,this.content.x+=this.content.width;break;case a.tl:this.content.anchor.x=1,this.content.anchor.y=1,this.content.x+=this.content.width,this.content.y+=this.content.height}}},{key:"onDragMovePoint",value:function(t){var e=t.currentTarget;if(e.dragging){var n=null===e.prevPosition?e.data.getLocalPosition(e.parent):e.prevPosition,i=e.data.getLocalPosition(e.parent),o=this.content.getLocalBounds().width,r=this.content.getLocalBounds().height,s=o/r,c=i.x-n.x,u=i.y-n.y,h=void 0,l=void 0;switch(e.name){case a.tr:case a.br:h=this.content.width+c,l=this.content.height+u;break;case a.bl:case a.tl:h=this.content.width-c,l=this.content.height-u}l*s<=l?l=h/s:h=l*s,this.content.width=h,this.content.height=l;var d=-1*this.pointSize/2;switch(console.log(this.content),e.name){case a.tr:this.points[a.tr].x=this.content.width+d+this.content.x,this.points[a.tr].y=d+this.content.y-this.content.height,this.points[a.br].x=this.content.width+d+this.content.x,this.points[a.br].y=d+this.content.y,this.points[a.bl].x=d+this.content.x,this.points[a.bl].y=d+this.content.y,this.points[a.tl].x=d+this.content.x,this.points[a.tl].y=d+this.content.y-this.content.height;break;case a.br:this.points[a.tr].x=this.content.width+d+this.content.x,this.points[a.tr].y=d+this.content.y,this.points[a.br].x=this.content.width+d+this.content.x,this.points[a.br].y=this.content.height+d+this.content.y,this.points[a.bl].x=d+this.content.x,this.points[a.bl].y=this.content.height+d+this.content.y,this.points[a.tl].x=d+this.content.x,this.points[a.tl].y=d+this.content.y;break;case a.bl:this.points[a.tr].x=d+this.content.x,this.points[a.tr].y=d+this.content.y,this.points[a.br].x=d+this.content.x,this.points[a.br].y=d+this.content.y+this.content.height,this.points[a.bl].x=d+this.content.x-this.content.width,this.points[a.bl].y=d+this.content.y+this.content.height,this.points[a.tl].x=d+this.content.x-this.content.width,this.points[a.tl].y=d+this.content.y;break;case a.tl:this.points[a.tr].x=d+this.content.x,this.points[a.tr].y=d+this.content.y-this.content.height,this.points[a.br].x=d+this.content.x,this.points[a.br].y=d+this.content.y,this.points[a.bl].x=d+this.content.x-this.content.width,this.points[a.bl].y=d+this.content.y,this.points[a.tl].x=d+this.content.x-this.content.width,this.points[a.tl].y=d+this.content.y-this.content.height}e.prevPosition=i}}},{key:"onDragEndPoint",value:function(t){var e=t.currentTarget;switch(e.alpha=1,e.dragging=!1,e.data=null,this.content.anchor.x=0,this.content.anchor.y=0,e.name){case a.tr:this.content.y-=this.content.height;break;case a.br:break;case a.bl:this.content.x-=this.content.width;break;case a.tl:this.content.x-=this.content.width,this.content.y-=this.content.height}}},{key:"remove",value:function(){var t=this;Object.keys(this.points).forEach(function(e){t.points[e].destroy()})}}]),t}();e.default=s},104:function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function t(e,n){i(this,t),this.app=e,this.stamps=n,this.prevScale=null}return o(t,[{key:"init",value:function(){}},{key:"addEvent",value:function(){var t=this,e=new Hammer(this.app.view);e.get("pinch").set({enable:!0}),e.on("pinch",function(e){if(null!==t.stamps.current){var n=void 0;n=t.stamps.current.scale.x+(e.scale-t.prevScale)<=.1?.1:t.stamps.current.scale.x+(e.scale-t.prevScale)>=2?2:t.stamps.current.scale.x+(e.scale-t.prevScale),t.stamps.current.scale.set(n,n)}t.prevScale=e.scale})}}]),t}();e.default=r},105:function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(38),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(r),s={};s[a.filter.alpha]=new PIXI.filters.AlphaFilter(.5),s[a.filter.blur]=new PIXI.filters.BlurFilter(.9,0,0,5);var c=function(){function t(e){i(this,t),this.app=e,this.storage=[]}return o(t,[{key:"add",value:function(t){var e=s[t];void 0!==e&&-1===this.storage.indexOf(e)&&(this.storage.push(e),this.app.stage.filters=this.storage)}},{key:"remove",value:function(t){var e=s[t];void 0!==e&&-1!==this.storage.indexOf(e)&&(this.storage.splice(this.storage.indexOf(e),1),this.app.stage.filters=this.storage)}}]),t}();e.default=c},106:function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function t(e){i(this,t),this.app=e,this.container=new PIXI.Container,this.style=new PIXI.TextStyle,this.target=new PIXI.Text}return o(t,[{key:"setText",value:function(t){this.target.text=t}},{key:"setFontSize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"px";this.style.fontSize=""+t+e}},{key:"setFontFamily",value:function(t){t instanceof Array==!1?this.style.fontFamily=t.replace(/\s?,\s?/g,",").split(","):this.style.fontFamily=t}},{key:"setFill",value:function(t){this.style.fill=t}},{key:"add",value:function(){this.target.style=this.style,this.app.stage.addChild(this.target)}}]),t}();e.default=r},107:function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(108),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(r),s=function(){function t(e){i(this,t),this.app=e,this.container=new PIXI.Container,this.button=document.getElementById("js-file"),this.reader=new FileReader,this.guide=new PIXI.Graphics,this.guide.lineStyle(1,"#000",1),this.guide.drawRect(10,10,300,300),this.maskArea=new PIXI.Graphics,this.maskArea.beginFill(0,0),this.maskArea.drawRect(10,10,300,300)}return o(t,[{key:"init",value:function(){}},{key:"addEvent",value:function(){var t=!!a.enablePassiveEventListeners()&&{passive:!0};this.button.addEventListener("change",this.onChange.bind(this),t),this.reader.addEventListener("load",this.onLoad.bind(this),t)}},{key:"onChange",value:function(){this.reader.readAsDataURL(this.button.files[0],"UTF-16")}},{key:"onLoad",value:function(t){this.container.addChild(new PIXI.Sprite(PIXI.Texture.fromImage(t.target.result))),this.container.addChild(this.guide),this.app.stage.addChild(this.container)}},{key:"mask",value:function(){this.container.mask=this.maskArea}}]),t}();e.default=s},108:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.getNumber=function(t){return parseInt(t,10)},e.isSpView=function(){return matchMedia("(max-width: 768px)").matches},e.enablePassiveEventListeners=function(){var t=!1,e=Object.defineProperty&&Object.defineProperty({},"passive",{get:function(){t=!0}});return document.addEventListener("test",function(){},e),t},e.getComputedTranslateXY=function(t){var e=[];if(window.getComputedStyle){var n=getComputedStyle(t),i=n.transform||n.webkitTransform||n.mozTransform,o=i.match(/^matrix3d\((.+)\)$/);return o?parseFloat(o[1].split(", ")[13]):(o=i.match(/^matrix\((.+)\)$/),o&&e.push(parseFloat(o[1].split(", ")[4])),o&&e.push(parseFloat(o[1].split(", ")[5])),e)}},e.getTransitionendName=function(){var t=document.createElement("test"),e={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"},n=void 0;for(n in e)if(void 0!==t.style[n])return e[n];return!1},e.hasCssProperty=function(t){var e=getComputedStyle(document.body),n=["","ms","moz","webkit","o"],i=!1,o=void 0;return n.forEach(function(n){i||(o=""===n?t:t.replace(/^[a-z]/,t.charAt(0).toUpperCase()),i=e.hasOwnProperty(""+n+o))}),i},e.getQueryObject=function(){var t={};return location.search.replace(/^\?/,"").split("&").forEach(function(e){var n=e.split("=")[0],i=e.split("=")[1];t[n]=i}),t},e.mouseWheelEvent="onwheel"in document?"wheel":"onmousewheel"in document?"mousewheel":"DOMMouseScroll"},16:function(t,e,n){"use strict";function i(){d=!1}function o(t){if(!t)return void(h!==p&&(h=p,i()));if(t!==h){if(t.length!==p.length)throw new Error("Custom alphabet for shortid must be "+p.length+" unique characters. You submitted "+t.length+" characters: "+t);var e=t.split("").filter(function(t,e,n){return e!==n.lastIndexOf(t)});if(e.length)throw new Error("Custom alphabet for shortid must be "+p.length+" unique characters. These characters were not unique: "+e.join(", "));h=t,i()}}function r(t){return o(t),h}function a(t){f.seed(t),l!==t&&(i(),l=t)}function s(){h||o(p);for(var t,e=h.split(""),n=[],i=f.nextValue();e.length>0;)i=f.nextValue(),t=Math.floor(i*e.length),n.push(e.splice(t,1)[0]);return n.join("")}function c(){return d||(d=s())}function u(t){return c()[t]}var h,l,d,f=n(97),p="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-";t.exports={characters:r,seed:a,lookup:u,shuffled:c}},37:function(t,e,n){"use strict";function i(t,e){for(var n,i=0,r="";!n;)r+=t(e>>4*i&15|o()),n=e<Math.pow(16,i+1),i++;return r}var o=n(98);t.exports=i},38:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.filter={alpha:"alpha",blur:"blur"}},92:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var o=n(93),r=i(o),a=n(94),s=i(a),c=n(104),u=i(c),h=n(105),l=i(h),d=n(106),f=i(d),p=n(107),v=i(p),y=n(38),g=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(y);window.addEventListener("load",function(){var t=document.getElementById("js-filter-alpha-add"),e=document.getElementById("js-filter-blur-add"),n=document.getElementById("js-filter-alpha-remove"),i=document.getElementById("js-filter-blur-remove"),o=document.getElementById("js-text"),a=document.getElementById("js-text-submit"),c=document.querySelectorAll(".js-text-font"),h=document.querySelectorAll(".js-text-color"),d=document.getElementById("js-add-image"),p=document.getElementById("js-download"),y=new r.default,b=new s.default(y.app),m=new u.default(y.app,b),w=new l.default(y.app),x=new f.default(y.app),k=new v.default(y.app);y.init(),m.addEvent(),k.addEvent(),t.addEventListener("click",function(){w.add(g.filter.alpha)},!1),e.addEventListener("click",function(){w.add(g.filter.blur)},!1),n.addEventListener("click",function(){w.remove(g.filter.alpha)},!1),i.addEventListener("click",function(){w.remove(g.filter.blur)},!1),d.addEventListener("click",function(){b.add("images/sample.jpeg")},!1),p.addEventListener("click",function(){var t=new Image;t.src=y.getImage(),document.body.appendChild(t)},!1),a.addEventListener("click",function(){x.setText(o.value),x.add()},!1),[].forEach.call(c,function(t){t.addEventListener("click",function(){x.setFontFamily(t.dataset.font)},!1)}),[].forEach.call(h,function(t){t.addEventListener("click",function(){x.setFill(t.dataset.color)},!1)}),b.add("images/sample.jpeg")},!1)},93:function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function t(){i(this,t),this.app=new PIXI.Application}return o(t,[{key:"init",value:function(){document.body.appendChild(this.app.view)}},{key:"addEvent",value:function(){}},{key:"onResize",value:function(){}},{key:"reset",value:function(){}},{key:"getImage",value:function(){var t=document.createElement("canvas");t.width=this.app.view.width,t.height=this.app.view.height;var e=t.getContext("2d");return this.app.render(this.app.stage),e.drawImage(this.app.view,0,0),t.toDataURL()}}]),t}();e.default=r},94:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(95),s=i(a),c=n(103),u=i(c),h=function(){function t(e){o(this,t),this.app=e,this.targets={},this.current=null,this.container=new PIXI.Container,this.boundingBox=new PIXI.Graphics,this.boundingBox.lineStyle(2,"0xcccccc",1)}return r(t,[{key:"init",value:function(){}},{key:"add",value:function(t){var e=this,n=s.default.generate();PIXI.loader.add(n,t).load(function(t,i){var o=new PIXI.Sprite(i[n].texture),r=new u.default(o);r.init();var a=r.target;a.x=e.app.renderer.width/2,a.y=e.app.renderer.height/2,a.originalWidth=a.width,a.originalHeight=a.height,a.interactive=!0,e.container.interactive=!0,e.container.addChild(a),e.app.stage.addChild(e.container)})}},{key:"onDragStart",value:function(t){console.log("dragstart"),this.data=t.data,this.alpha=.5,this.dragging=!0}},{key:"onDragEnd",value:function(){this.alpha=1,this.dragging=!1,this.isResize=!1,this.data=null}},{key:"onDragMove",value:function(t){if(this.dragging){var e=this.data.getLocalPosition(this.parent);this.x=e.x,this.y=e.y}else this.isResize&&(this.width+=1,this.height+=1)}},{key:"onDragStartWithShift",value:function(t){console.log(this,arguments)}}]),t}();e.default=h},95:function(t,e,n){"use strict";t.exports=n(96)},96:function(t,e,n){"use strict";function i(e){return s.seed(e),t.exports}function o(e){return l=e,t.exports}function r(t){return void 0!==t&&s.characters(t),s.shuffled()}function a(){return u(l)}var s=n(16),c=(n(37),n(99)),u=n(100),h=n(101),l=n(102)||0;t.exports=a,t.exports.generate=a,t.exports.seed=i,t.exports.worker=o,t.exports.characters=r,t.exports.decode=c,t.exports.isValid=h},97:function(t,e,n){"use strict";function i(){return(r=(9301*r+49297)%233280)/233280}function o(t){r=t}var r=1;t.exports={nextValue:i,seed:o}},98:function(t,e,n){"use strict";function i(){if(!r||!r.getRandomValues)return 48&Math.floor(256*Math.random());var t=new Uint8Array(1);return r.getRandomValues(t),48&t[0]}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r="object"===("undefined"==typeof window?"undefined":o(window))&&(window.crypto||window.msCrypto);t.exports=i},99:function(t,e,n){"use strict";function i(t){var e=o.shuffled();return{version:15&e.indexOf(t.substr(0,1)),worker:15&e.indexOf(t.substr(1,1))}}var o=n(16);t.exports=i}},[92]);