webpackJsonp([0],{100:function(t,e,n){"use strict";function i(){return(r=(9301*r+49297)%233280)/233280}function o(t){r=t}var r=1;t.exports={nextValue:i,seed:o}},101:function(t,e,n){"use strict";function i(){if(!r||!r.getRandomValues)return 48&Math.floor(256*Math.random());var t=new Uint8Array(1);return r.getRandomValues(t),48&t[0]}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r="object"===("undefined"==typeof window?"undefined":o(window))&&(window.crypto||window.msCrypto);t.exports=i},102:function(t,e,n){"use strict";function i(t){var e=o.shuffled();return{version:15&e.indexOf(t.substr(0,1)),worker:15&e.indexOf(t.substr(1,1))}}var o=n(17);t.exports=i},103:function(t,e,n){"use strict";function i(t){var e="",n=Math.floor(.001*(Date.now()-c));return n===r?o++:(o=0,r=n),e+=s(a.lookup,l),e+=s(a.lookup,t),o>0&&(e+=s(a.lookup,o)),e+=s(a.lookup,n)}var o,r,s=n(38),a=n(17),c=1459707606518,l=6;t.exports=i},104:function(t,e,n){"use strict";function i(t){if(!t||"string"!=typeof t||t.length<6)return!1;for(var e=o.characters(),n=t.length,i=0;i<n;i++)if(-1===e.indexOf(t[i]))return!1;return!0}var o=n(17);t.exports=i},105:function(t,e,n){"use strict";t.exports=0},106:function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s={tr:"tr",br:"br",bl:"bl",tl:"tl"},a=function(){function t(e){var n;o(this,t),this.content=e,this.target=new PIXI.Sprite,this.target.addChild(this.content),this.border=new PIXI.Graphics,this.minSize=50,this.pointSize=10;var r=new PIXI.Graphics;r.lineStyle(2,"0xff0000",1),r.beginFill("0xff0000"),r.drawRect(0,0,this.pointSize,this.pointSize);var a=r.clone(),c=r.clone(),l=r.clone(),u=r.clone();a.name=s.tr,c.name=s.br,l.name=s.bl,u.name=s.tl,this.points=(n={},i(n,s.tr,a),i(n,s.br,c),i(n,s.bl,l),i(n,s.tl,u),n)}return r(t,[{key:"init",value:function(){var t=this,e=-1*this.pointSize/2;this.points[s.tr].x=this.content.width+e,this.points[s.tr].y=e,this.points[s.br].x=this.content.width+e,this.points[s.br].y=this.content.height+e,this.points[s.bl].x=e,this.points[s.bl].y=this.content.height+e,this.points[s.tl].x=e,this.points[s.tl].y=e,Object.keys(this.points).forEach(function(e){t.points[e].on("pointerdown",t.onDragStartPoint.bind(t)).on("pointermove",t.onDragMovePoint.bind(t)).on("pointerup",t.onDragEndPoint.bind(t)).on("pointerupoutside",t.onDragEndPoint.bind(t)),t.points[e].interactive=!0,t.points[e].interactiveChildren=!0,t.target.addChild(t.points[e])})}},{key:"onDragStartPoint",value:function(t){var e=t.currentTarget;switch(e.data=t.data,e.alpha=.5,e.dragging=!0,e.prevPosition=null,e.name){case s.tr:this.content.anchor.x=0,this.content.anchor.y=1,this.content.y+=this.content.height;break;case s.br:this.content.anchor.x=0,this.content.anchor.y=0;break;case s.bl:this.content.anchor.x=1,this.content.anchor.y=0,this.content.x+=this.content.width;break;case s.tl:this.content.anchor.x=1,this.content.anchor.y=1,this.content.x+=this.content.width,this.content.y+=this.content.height}}},{key:"onDragMovePoint",value:function(t){var e=t.currentTarget;if(e.dragging){var n=null===e.prevPosition?e.data.getLocalPosition(e.parent):e.prevPosition,i=e.data.getLocalPosition(e.parent),o=this.content.getLocalBounds().width,r=this.content.getLocalBounds().height,a=o/r,c=i.x-n.x,l=i.y-n.y,u=void 0,h=void 0;switch(e.name){case s.tr:case s.br:u=this.content.width+c,h=this.content.height+l;break;case s.bl:case s.tl:u=this.content.width-c,h=this.content.height-l}h*a<=h?h=u/a:u=h*a,this.content.width=u,this.content.height=h;var f=-1*this.pointSize/2;switch(console.log(this.content),e.name){case s.tr:this.points[s.tr].x=this.content.width+f+this.content.x,this.points[s.tr].y=f+this.content.y-this.content.height,this.points[s.br].x=this.content.width+f+this.content.x,this.points[s.br].y=f+this.content.y,this.points[s.bl].x=f+this.content.x,this.points[s.bl].y=f+this.content.y,this.points[s.tl].x=f+this.content.x,this.points[s.tl].y=f+this.content.y-this.content.height;break;case s.br:this.points[s.tr].x=this.content.width+f+this.content.x,this.points[s.tr].y=f+this.content.y,this.points[s.br].x=this.content.width+f+this.content.x,this.points[s.br].y=this.content.height+f+this.content.y,this.points[s.bl].x=f+this.content.x,this.points[s.bl].y=this.content.height+f+this.content.y,this.points[s.tl].x=f+this.content.x,this.points[s.tl].y=f+this.content.y;break;case s.bl:this.points[s.tr].x=f+this.content.x,this.points[s.tr].y=f+this.content.y,this.points[s.br].x=f+this.content.x,this.points[s.br].y=f+this.content.y+this.content.height,this.points[s.bl].x=f+this.content.x-this.content.width,this.points[s.bl].y=f+this.content.y+this.content.height,this.points[s.tl].x=f+this.content.x-this.content.width,this.points[s.tl].y=f+this.content.y;break;case s.tl:this.points[s.tr].x=f+this.content.x,this.points[s.tr].y=f+this.content.y-this.content.height,this.points[s.br].x=f+this.content.x,this.points[s.br].y=f+this.content.y,this.points[s.bl].x=f+this.content.x-this.content.width,this.points[s.bl].y=f+this.content.y,this.points[s.tl].x=f+this.content.x-this.content.width,this.points[s.tl].y=f+this.content.y-this.content.height}e.prevPosition=i}}},{key:"onDragEndPoint",value:function(t){var e=t.currentTarget;switch(e.alpha=1,e.dragging=!1,e.data=null,this.content.anchor.x=0,this.content.anchor.y=0,e.name){case s.tr:this.content.y-=this.content.height;break;case s.br:break;case s.bl:this.content.x-=this.content.width;break;case s.tl:this.content.x-=this.content.width,this.content.y-=this.content.height}}},{key:"remove",value:function(){var t=this;Object.keys(this.points).forEach(function(e){t.points[e].destroy()})}}]),t}();e.default=a},107:function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function t(e,n){i(this,t),this.app=e,this.stamps=n,this.prevScale=null}return o(t,[{key:"init",value:function(){}},{key:"addEvent",value:function(){var t=this,e=new Hammer(this.app.view);e.get("pinch").set({enable:!0}),e.on("pinch",function(e){if(null!==t.stamps.current){var n=void 0;n=t.stamps.current.scale.x+(e.scale-t.prevScale)<=.1?.1:t.stamps.current.scale.x+(e.scale-t.prevScale)>=2?2:t.stamps.current.scale.x+(e.scale-t.prevScale),t.stamps.current.scale.set(n,n)}t.prevScale=e.scale})}}]),t}();e.default=r},108:function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=n(39),a=i(s),c=n(40),l=i(c),u={};u[a.filter.alpha]=new PIXI.filters.AlphaFilter(.5),u[a.filter.blur]=new PIXI.filters.BlurFilter(2,0,0,5),u[a.filter.sepia]=new l.OldFilmFilter({sepia:1,noise:0,scratch:0,vignetting:0}),u[a.filter.dot]=new l.DotFilter(.75,5),u[a.filter.mosaic]=new l.PixelateFilter(10),u[a.filter.monoqlo]=new PIXI.filters.ColorMatrixFilter,u[a.filter.monoqlo].blackAndWhite(),u[a.filter.emboss]=new l.EmbossFilter(3),u[a.filter.convolution]=new l.ConvolutionFilter([0,-1,0,-1,5,-1,0,-1,0],100,100),u[a.filter.zoom_blur]=new l.ZoomBlurFilter,u[a.filter.yellow]=new PIXI.filters.ColorMatrixFilter,u[a.filter.yellow].matrix=[1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1],u[a.filter.noise]=new PIXI.filters.NoiseFilter;var h=function(){function t(e){o(this,t),this.app=e,this.storage=[]}return r(t,[{key:"add",value:function(t){var e=u[t];void 0!==e&&-1===this.storage.indexOf(e)&&(this.storage.push(e),this.app.stage.filters=this.storage)}},{key:"remove",value:function(t){var e=u[t];void 0!==e&&-1!==this.storage.indexOf(e)&&(this.storage.splice(this.storage.indexOf(e),1),this.app.stage.filters=this.storage)}}]),t}();e.default=h},17:function(t,e,n){"use strict";function i(){f=!1}function o(t){if(!t)return void(u!==p&&(u=p,i()));if(t!==u){if(t.length!==p.length)throw new Error("Custom alphabet for shortid must be "+p.length+" unique characters. You submitted "+t.length+" characters: "+t);var e=t.split("").filter(function(t,e,n){return e!==n.lastIndexOf(t)});if(e.length)throw new Error("Custom alphabet for shortid must be "+p.length+" unique characters. These characters were not unique: "+e.join(", "));u=t,i()}}function r(t){return o(t),u}function s(t){d.seed(t),h!==t&&(i(),h=t)}function a(){u||o(p);for(var t,e=u.split(""),n=[],i=d.nextValue();e.length>0;)i=d.nextValue(),t=Math.floor(i*e.length),n.push(e.splice(t,1)[0]);return n.join("")}function c(){return f||(f=a())}function l(t){return c()[t]}var u,h,f,d=n(100),p="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-";t.exports={characters:r,seed:s,lookup:l,shuffled:c}},238:function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function t(e){i(this,t),this.app=e,this.container=new PIXI.Container,this.style=new PIXI.TextStyle,this.target=new PIXI.Text}return o(t,[{key:"setText",value:function(t){this.target.text=t}},{key:"setFontSize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"px";this.style.fontSize=""+t+e}},{key:"setFontFamily",value:function(t){t instanceof Array==!1?this.style.fontFamily=t.replace(/\s?,\s?/g,",").split(","):this.style.fontFamily=t}},{key:"setFill",value:function(t){this.style.fill=t}},{key:"add",value:function(){this.target.style=this.style,this.app.stage.addChild(this.target)}}]),t}();e.default=r},239:function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(240),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(r),a=function(){function t(e){i(this,t),this.app=e,this.container=new PIXI.Container,this.button=document.getElementById("js-file"),this.reader=new FileReader,this.guide=new PIXI.Graphics,this.guide.lineStyle(1,"#000",1),this.guide.drawRect(10,10,300,300),this.maskArea=new PIXI.Graphics,this.maskArea.beginFill(0,0),this.maskArea.drawRect(10,10,300,300)}return o(t,[{key:"init",value:function(){}},{key:"addEvent",value:function(){var t=!!s.enablePassiveEventListeners()&&{passive:!0};this.button.addEventListener("change",this.onChange.bind(this),t),this.reader.addEventListener("load",this.onLoad.bind(this),t)}},{key:"onChange",value:function(){this.reader.readAsDataURL(this.button.files[0],"UTF-16")}},{key:"onLoad",value:function(t){this.container.addChild(new PIXI.Sprite(PIXI.Texture.fromImage(t.target.result))),this.app.stage.addChild(this.container)}},{key:"mask",value:function(){this.container.mask=this.maskArea}}]),t}();e.default=a},240:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.getNumber=function(t){return parseInt(t,10)},e.isSpView=function(){return matchMedia("(max-width: 768px)").matches},e.enablePassiveEventListeners=function(){var t=!1,e=Object.defineProperty&&Object.defineProperty({},"passive",{get:function(){t=!0}});return document.addEventListener("test",function(){},e),t},e.getComputedTranslateXY=function(t){var e=[];if(window.getComputedStyle){var n=getComputedStyle(t),i=n.transform||n.webkitTransform||n.mozTransform,o=i.match(/^matrix3d\((.+)\)$/);return o?parseFloat(o[1].split(", ")[13]):(o=i.match(/^matrix\((.+)\)$/),o&&e.push(parseFloat(o[1].split(", ")[4])),o&&e.push(parseFloat(o[1].split(", ")[5])),e)}},e.getTransitionendName=function(){var t=document.createElement("test"),e={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"},n=void 0;for(n in e)if(void 0!==t.style[n])return e[n];return!1},e.hasCssProperty=function(t){var e=getComputedStyle(document.body),n=["","ms","moz","webkit","o"],i=!1,o=void 0;return n.forEach(function(n){i||(o=""===n?t:t.replace(/^[a-z]/,t.charAt(0).toUpperCase()),i=e.hasOwnProperty(""+n+o))}),i},e.getQueryObject=function(){var t={};return location.search.replace(/^\?/,"").split("&").forEach(function(e){var n=e.split("=")[0],i=e.split("=")[1];t[n]=i}),t},e.mouseWheelEvent="onwheel"in document?"wheel":"onmousewheel"in document?"mousewheel":"DOMMouseScroll"},38:function(t,e,n){"use strict";function i(t,e){for(var n,i=0,r="";!n;)r+=t(e>>4*i&15|o()),n=e<Math.pow(16,i+1),i++;return r}var o=n(101);t.exports=i},39:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.filter={alpha:"alpha",blur:"blur",sepia:"sepia",dot:"dot",mosaic:"mosaic",monoqlo:"monoqlo",emboss:"emboss",convolution:"convolution",zoom_blur:"zoom_blur",yellow:"yellow",noise:"noise"}},95:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var o=n(96),r=i(o),s=n(97),a=i(s),c=n(107),l=i(c),u=n(108),h=i(u),f=n(238),d=i(f),p=n(239),v=i(p),y=n(39);!function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);e.default=t}(y);window.addEventListener("load",function(){var t=(document.getElementById("js-filter-alpha-add"),document.getElementById("js-filter-blur-add"),document.getElementById("js-filter-multiColorReplaceFilter"),document.getElementById("js-filter-alpha-remove"),document.getElementById("js-filter-blur-remove"),document.querySelectorAll(".js-filter-add")),e=document.querySelectorAll(".js-filter-remove"),n=document.getElementById("js-text"),i=document.getElementById("js-text-submit"),o=document.querySelectorAll(".js-text-font"),s=document.querySelectorAll(".js-text-color"),c=document.getElementById("js-add-image"),u=document.getElementById("js-download"),f=new r.default,p=new a.default(f.app),y=new l.default(f.app,p),g=new h.default(f.app),b=new d.default(f.app),m=new v.default(f.app);f.init(),y.addEvent(),m.addEvent(),[].forEach.call(t,function(t){t.addEventListener("click",function(t){g.add(t.currentTarget.dataset.filter)},!1)}),[].forEach.call(e,function(t){t.addEventListener("click",function(t){g.remove(t.currentTarget.dataset.filter)},!1)}),c.addEventListener("click",function(){p.add("images/sample.jpeg")},!1),u.addEventListener("click",function(){var t=new Image;t.src=f.getImage(),document.body.appendChild(t)},!1),i.addEventListener("click",function(){b.setText(n.value),b.add()},!1),[].forEach.call(o,function(t){t.addEventListener("click",function(){b.setFontFamily(t.dataset.font)},!1)}),[].forEach.call(s,function(t){t.addEventListener("click",function(){b.setFill(t.dataset.color)},!1)})},!1)},96:function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function t(){i(this,t),this.app=new PIXI.Application}return o(t,[{key:"init",value:function(){document.body.appendChild(this.app.view)}},{key:"addEvent",value:function(){}},{key:"onResize",value:function(){}},{key:"reset",value:function(){}},{key:"getImage",value:function(){var t=document.createElement("canvas");t.width=this.app.view.width,t.height=this.app.view.height;var e=t.getContext("2d");return this.app.render(this.app.stage),e.drawImage(this.app.view,0,0),t.toDataURL()}}]),t}();e.default=r},97:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=n(98),a=i(s),c=n(106),l=i(c),u=function(){function t(e){o(this,t),this.app=e,this.targets={},this.current=null,this.container=new PIXI.Container,this.boundingBox=new PIXI.Graphics,this.boundingBox.lineStyle(2,"0xcccccc",1)}return r(t,[{key:"init",value:function(){}},{key:"add",value:function(t){var e=this,n=a.default.generate();PIXI.loader.add(n,t).load(function(t,i){var o=new PIXI.Sprite(i[n].texture),r=new l.default(o);r.init();var s=r.target;s.x=e.app.renderer.width/2,s.y=e.app.renderer.height/2,s.originalWidth=s.width,s.originalHeight=s.height,s.interactive=!0,e.container.interactive=!0,e.container.addChild(s),e.app.stage.addChild(e.container)})}},{key:"onDragStart",value:function(t){console.log("dragstart"),this.data=t.data,this.alpha=.5,this.dragging=!0}},{key:"onDragEnd",value:function(){this.alpha=1,this.dragging=!1,this.isResize=!1,this.data=null}},{key:"onDragMove",value:function(t){if(this.dragging){var e=this.data.getLocalPosition(this.parent);this.x=e.x,this.y=e.y}else this.isResize&&(this.width+=1,this.height+=1)}},{key:"onDragStartWithShift",value:function(t){console.log(this,arguments)}}]),t}();e.default=u},98:function(t,e,n){"use strict";t.exports=n(99)},99:function(t,e,n){"use strict";function i(e){return a.seed(e),t.exports}function o(e){return h=e,t.exports}function r(t){return void 0!==t&&a.characters(t),a.shuffled()}function s(){return l(h)}var a=n(17),c=(n(38),n(102)),l=n(103),u=n(104),h=n(105)||0;t.exports=s,t.exports.generate=s,t.exports.seed=i,t.exports.worker=o,t.exports.characters=r,t.exports.decode=c,t.exports.isValid=u}},[95]);